commit 32691a2a0fe7ee1700cb2e3fc55994b96f053f2a
Author: Michał Ziąbkowski <mziab@o2.pl>
Date:   Fri Sep 23 19:17:56 2011 +0200

    Unbundled minizip and glew.

diff --git a/Makefiles/Makefile.SDL.UNIX.GCC b/Makefiles/Makefile.SDL.UNIX.GCC
index 8906eaa..b6f2f77 100644
--- a/Makefiles/Makefile.SDL.UNIX.GCC
+++ b/Makefiles/Makefile.SDL.UNIX.GCC
@@ -54,10 +54,10 @@ OBJ_DIR = obj
 
 CC = gcc
 LD = gcc
-COMPILER_FLAGS = `sdl-config --cflags` -ISrc/ -ISrc/OSD/SDL/ -ISrc/Pkgs/ -c -Wall -O3
+COMPILER_FLAGS = `sdl-config --cflags` `pkg-config --cflags minizip glew` -ISrc/ -ISrc/OSD/SDL/ -ISrc/Pkgs/ -c -Wall -O3
 CFLAGS = $(COMPILER_FLAGS)
 CPPFLAGS = $(COMPILER_FLAGS)
-LFLAGS = -o $(OUTFILE) -L$(SDL_LIBPATH) -lGL -lGLU -lSDL -lz -lm -lstdc++
+LFLAGS = -o $(OUTFILE) -L$(SDL_LIBPATH) -lGL -lGLU -lSDL `pkg-config --libs glew minizip` -lz -lm -lstdc++
 
 
 ###############################################################################
@@ -69,7 +69,7 @@ LFLAGS = -o $(OUTFILE) -L$(SDL_LIBPATH) -lGL -lGLU -lSDL -lz -lm -lstdc++
 #
 
 HEADERS = Src/Supermodel.h Src/Games.h Src/OSD/SDL/Types.h
-OBJ = $(OBJ_DIR)/Games.o $(OBJ_DIR)/INIFile.o $(OBJ_DIR)/BlockFile.o $(OBJ_DIR)/93C46.o $(OBJ_DIR)/ROMLoad.o $(OBJ_DIR)/unzip.o $(OBJ_DIR)/ioapi.o $(OBJ_DIR)/Error.o $(OBJ_DIR)/glew.o $(OBJ_DIR)/Shader.o $(OBJ_DIR)/Real3D.o $(OBJ_DIR)/Render3D.o $(OBJ_DIR)/Models.o $(OBJ_DIR)/Render2D.o $(OBJ_DIR)/TileGen.o $(OBJ_DIR)/Model3.o $(OBJ_DIR)/ppc.o $(OBJ_DIR)/Main.o $(OBJ_DIR)/IRQ.o $(OBJ_DIR)/53C810.o $(OBJ_DIR)/PCI.o $(OBJ_DIR)/RTC72421.o $(OBJ_DIR)/MPC10x.o $(OBJ_DIR)/PPCDisasm.o
+OBJ = $(OBJ_DIR)/Games.o $(OBJ_DIR)/INIFile.o $(OBJ_DIR)/BlockFile.o $(OBJ_DIR)/93C46.o $(OBJ_DIR)/ROMLoad.o $(OBJ_DIR)/Error.o $(OBJ_DIR)/Shader.o $(OBJ_DIR)/Real3D.o $(OBJ_DIR)/Render3D.o $(OBJ_DIR)/Models.o $(OBJ_DIR)/Render2D.o $(OBJ_DIR)/TileGen.o $(OBJ_DIR)/Model3.o $(OBJ_DIR)/ppc.o $(OBJ_DIR)/Main.o $(OBJ_DIR)/IRQ.o $(OBJ_DIR)/53C810.o $(OBJ_DIR)/PCI.o $(OBJ_DIR)/RTC72421.o $(OBJ_DIR)/MPC10x.o $(OBJ_DIR)/PPCDisasm.o
 
 #
 # Rules
diff --git a/Src/Graphics/Render2D.cpp b/Src/Graphics/Render2D.cpp
index c644b1e..e78fb03 100644
--- a/Src/Graphics/Render2D.cpp
+++ b/Src/Graphics/Render2D.cpp
@@ -37,7 +37,7 @@
  */
 
 #include <string.h>
-#include "Pkgs/glew.h"
+#include "glew.h"
 #include "Supermodel.h"
 #include "Graphics/Shaders2D.h"	// fragment and vertex shaders
 
diff --git a/Src/Graphics/Render2D.h b/Src/Graphics/Render2D.h
index 9a36d4e..edf7f66 100644
--- a/Src/Graphics/Render2D.h
+++ b/Src/Graphics/Render2D.h
@@ -28,7 +28,7 @@
 #ifndef INCLUDED_RENDER2D_H
 #define INCLUDED_RENDER2D_H
 
-#include "Pkgs/glew.h"
+#include "glew.h"
 
 
 // Dirty rectangle size, must be multiples of 4 because masking code relies on this
diff --git a/Src/Graphics/Render3D.h b/Src/Graphics/Render3D.h
index bc5444a..45564b6 100644
--- a/Src/Graphics/Render3D.h
+++ b/Src/Graphics/Render3D.h
@@ -28,7 +28,7 @@
 #ifndef INCLUDED_RENDER3D_H
 #define INCLUDED_RENDER3D_H
 
-#include "Pkgs/glew.h"
+#include "glew.h"
 
 /******************************************************************************
  Internal Definitions and Data Structures
diff --git a/Src/Graphics/Shader.cpp b/Src/Graphics/Shader.cpp
index 298b1b0..2cce363 100644
--- a/Src/Graphics/Shader.cpp
+++ b/Src/Graphics/Shader.cpp
@@ -44,7 +44,7 @@
 
 #include <new>
 #include <stdio.h>
-#include "Pkgs/glew.h"
+#include "glew.h"
 #include "Supermodel.h"
 
 
diff --git a/Src/Graphics/Shader.h b/Src/Graphics/Shader.h
index c456af9..4221a6e 100644
--- a/Src/Graphics/Shader.h
+++ b/Src/Graphics/Shader.h
@@ -28,7 +28,7 @@
 #ifndef INCLUDED_SHADER_H
 #define INCLUDED_SHADER_H
 
-#include "Pkgs/glew.h"
+#include "glew.h"
 
 /*
  * LoadShaderProgram(shaderProgramPtr, vertexShaderPtr, fragmentShaderPtr, 
diff --git a/Src/OSD/SDL/Main.cpp b/Src/OSD/SDL/Main.cpp
index bc245cf..ae7e8fe 100644
--- a/Src/OSD/SDL/Main.cpp
+++ b/Src/OSD/SDL/Main.cpp
@@ -45,7 +45,7 @@
 #include <stdio.h>
 #include <string.h>
 #include <stdarg.h>
-#include "Pkgs/glew.h"
+#include "glew.h"
 #ifdef SUPERMODEL_OSX
 #include <SDL/SDL.h>
 #else
diff --git a/Src/Pkgs/glew.c b/Src/Pkgs/glew.c
index 934f575..d5daf2d 100644
--- a/Src/Pkgs/glew.c
+++ b/Src/Pkgs/glew.c
@@ -29,11 +29,11 @@
 ** THE POSSIBILITY OF SUCH DAMAGE.
 */
 
-#include "Pkgs/glew.h"
+#include "glew.h"
 #if defined(_WIN32)
-#  include "Pkgs/wglew.h"
+#  include "wglew.h"
 #elif !defined(__APPLE__) || defined(GLEW_APPLE_GLX)
-#  include "Pkgs/glxew.h"
+#  include "glxew.h"
 #endif
 
 /*
diff --git a/Src/Pkgs/glxew.h b/Src/Pkgs/glxew.h
index 566b507..4ead4e7 100644
--- a/Src/Pkgs/glxew.h
+++ b/Src/Pkgs/glxew.h
@@ -97,7 +97,7 @@
 #include <X11/Xlib.h>
 #include <X11/Xutil.h>
 #include <X11/Xmd.h>
-#include "Pkgs/glew.h"
+#include "glew.h"
 
 #ifdef __cplusplus
 extern "C" {
diff --git a/Src/ROMLoad.cpp b/Src/ROMLoad.cpp
index 00498bd..00b8f12 100644
--- a/Src/ROMLoad.cpp
+++ b/Src/ROMLoad.cpp
@@ -28,7 +28,7 @@
 #include <new>
 #include <string.h>
 #include "Supermodel.h"
-#include "Pkgs/unzip.h"
+#include "unzip.h"
 
 
 /*
